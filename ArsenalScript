local uis = game.UserInputService
local players = game:GetService("Players")
local player = players.LocalPlayer
wait(1)
script.Parent = player.PlayerScripts
local chr = player.Character
local hrp = chr.HumanoidRootPart
local hmd = chr.Humanoid
local Head = chr.Head
local cam = workspace.CurrentCamera
local lastPressed = Enum.KeyCode.Z
local label = Instance.new("TextLabel",Instance.new("ScreenGui",player.PlayerGui))
label.Size = UDim2.new(0,350,0,50)
label.TextScaled = true
label.ZIndex = 99
label.BackgroundTransparency = 1
label.Text = "DISABLED"
label.Position = UDim2.new(0.5,0,0.2,0)
label.AnchorPoint = Vector2.new(0.5,0)
label.TextColor3 = Color3.new(1,1,1)
label.TextStrokeTransparency = 0
label.TextStrokeColor3 = Color3.new(0,0,0)
local pdPressed = Enum.KeyCode.Z
local chrDescs = chr:GetDescendants()
local rayParams = RaycastParams.new()
rayParams.FilterType = Enum.RaycastFilterType.Exclude
rayParams.FilterDescendantsInstances = chrDescs
hmd.Died:Connect(function()
	pdPressed = lastPressed
	lastPressed = Enum.KeyCode.Z
end)
player.CharacterAdded:Connect(function(char)
	chr = char
	hrp = char:WaitForChild("HumanoidRootPart")
	hmd = charWaitForChild("Humanoid")
	Head = charWaitForChild("Head")
	cam = workspace.CurrentCamera
	chrDescs = chr:GetDescendants()
	rayParams.FilterDescendantsInstances = chrDescs
	wait(1.5)
	lastPressed = pdPressed
end)
uis.InputBegan:Connect(function(key,gpe)
	if not gpe then
		local code = key.KeyCode
		if code == Enum.KeyCode.Z then
			label.Text = "DISABLED"
			lastPressed = code
		elseif code == Enum.KeyCode.X then
			if lastPressed == code then
				label.Text = "DISABLED"
				lastPressed = Enum.KeyCode.Z
			else
				label.Text = "TELEPORT"
				lastPressed = code
			end
		elseif code == Enum.KeyCode.C then
			if lastPressed == code then
				label.Text = "DISABLED"
				lastPressed = Enum.KeyCode.Z
			else
				label.Text = "AIMBOT"
				lastPressed = code
			end
		end
	end
end)
local disableKey = Enum.KeyCode.Z
local teleportKey = Enum.KeyCode.X
local aimbotKey = Enum.KeyCode.C
local aimbotTarget = nil
while wait() do
	local myPos = hrp.Position
	if lastPressed ~= disableKey and myPos.Y > -350 then
		local myTeam
		local neutral = player.Neutral
        if not neutral then
            myTeam = player.Team.Name
        end
		local otherTeam = {}
		for _,plr in pairs(players:GetChildren()) do
			if plr.Team.Name ~= myTeam or neutral or plr.Neutral then
				table.insert(otherTeam,plr)
			end
		end
		local mags = {}
		local myPos = hrp.Position
		for _,plr in pairs(otherTeam) do
			table.insert(mags,{plr,(myPos-plr.Character.HumanoidRootPart.Position).Magnitude})
		end
		table.sort(mags,function(a,b)
			return a[2] < b[2]
		end)
		for _,plr in pairs(mags) do
			local closest = plr[1].Character:FindFirstChild("Head") or nil
			if not closest then
				continue
			end
			if lastPressed == teleportKey then
				hrp.CFrame = closest.CFrame * CFrame.new(0,0,6)
				cam.CFrame = CFrame.lookAt(chr.Head.Position,closest.Position)
				break
			elseif aimbotTarget then
				local lastCF = cam.CFrame
				for i = 1,20 do
					local endPos = aimbotTarget.Position
					if endPos.Y > -350 and aimbotTarget then
						lastCF = cam.CFrame
						cam.CFrame = CFrame.lookAt(Head.Position,endPos)
						task.wait()
					else
						cam.CFrame = lastCF
						break
					end
				end
				aimbotTarget = nil
			elseif lastPressed == aimbotKey then
				local castPos = Head.CFrame * CFrame.new(0,0,-5)
				local endPos = closest.Position
				castPos = Vector3.new(castPos.X,castPos.Y,castPos.Z)
				if (workspace:Raycast(castPos,(endPos-castPos).Unit*(castPos-endPos).Magnitude,rayParams).Position-endPos).Magnitude < 5 then
					cam.CFrame = CFrame.lookAt(Head.Position,endPos)
					aimbotTarget = closest
				end
			end
		end
	end
end
